<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Estado del pedido #{{.ShortID}}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {{if .AutoRefresh}}<meta http-equiv="refresh" content="15">{{end}}
  <style>
    body { font-family:'Inter',system-ui,sans-serif; background:#f8fafc; display:flex; align-items:center; justify-content:center; min-height:100vh; margin:0; }
    .card { background:white; border-radius:12px; box-shadow:0 2px 10px rgba(0,0,0,0.05); padding:2rem; max-width:480px; width:100%; }
    h1 { color:#1e3a8a; margin-top:0; }
    ul { padding-left:1rem; color:#374151; }
    .status { display:inline-block; margin:.5rem 0; padding:.4rem .7rem; border-radius:6px; font-weight:600; text-transform:capitalize; }
    .nuevo { background:#3b82f6; color:white; }
    .preparando { background:#f59e0b; color:white; }
    .en_camino { background:#10b981; color:white; }
    .entregado { background:#16a34a; color:white; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Pedido #{{.ShortID}}</h1>
    <p><strong>Cliente:</strong> {{.BuyerName}}</p>
    <p><strong>Estado:</strong> <span class="status {{.Status}}">{{.Status}}</span></p>
    <h3>Productos</h3>
    <ul>
      {{range .Items}}
        <li>{{.Qty}}x {{.Name}} — Gs {{.UnitPrice}}</li>
      {{end}}
    </ul>
    <p><strong>Total:</strong> Gs {{.Total}}</p>
    {{if .AutoRefresh}}
      <p style="color:#6b7280;">Actualizando cada 15 segundos...</p>
    {{else}}
      <p style="color:#16a34a; font-weight:600;">Pedido entregado. ¡Gracias por comprar!</p>
    {{end}}
    <a href="/orders" style="display:inline-block;margin-top:1rem;color:#2563eb;">← Volver al tablero</a>
  </div>
</body>
</html>
